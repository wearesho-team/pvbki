<?php

namespace Wearesho\Pvbki\Tests\Unit;

use Carbon\Carbon;
use PHPUnit\Framework\TestCase;
use Wearesho\Pvbki;

/**
 * Class ParserTest
 * @package Wearesho\Pvbki\Tests\Unit
 * @coversDefaultClass \Wearesho\Pvbki\Parser
 * @internal
 */
class ParserTest extends TestCase
{
    /** @var Pvbki\Parser */
    protected $fakeParser;

    protected function setUp(): void
    {
        $this->fakeParser = new Pvbki\Parser();
    }

    public function testParseStatementReportPlus(): void
    {
        $report = $this->fakeParser->parse(file_get_contents(dirname(__DIR__) . '/Mocks/StatementReportPlus.xml'));

        $this->assertEquals(
            new Pvbki\StatementReport(
                false,
                Carbon::make('2016-12-27T18:02:11.899+02:00'),
                'reverse.8.DA.engine',
                new Pvbki\Collections\Errors([
                    new Pvbki\Elements\Error('1', 'First message', 'First type'),
                    new Pvbki\Elements\Error('2', 'Second message', 'Second Type'),
                ]),
                new Pvbki\Elements\Subject(
                    '1928100592',
                    Carbon::make('2011-06-23T15:58:19.343+03:00'),
                    Pvbki\Enums\Entity::INDIVIDUAL(),
                    Pvbki\Enums\Gender::MAN(),
                    new Pvbki\Sentence\Translation('Француз', 'Француз', null),
                    new Pvbki\Sentence\Translation('Виктор', 'Виктор', null),
                    new Pvbki\Sentence\Translation('Иванович', 'Иванович', null),
                    new Pvbki\Sentence\Translation(null, null, null),
                    Pvbki\Enums\Classification::INDIVIDUAL(),
                    Carbon::make('1952-10-15T00:00:00+03:00'),
                    new Pvbki\Sentence\Translation(null, null, null),
                    Pvbki\Enums\Residency::RESIDENT(),
                    'UA',
                    Pvbki\Enums\SubjectNegativeStatus::WITHOUT_NEGATIVE_STATUS(),
                    Pvbki\Enums\Education::BASIC(),
                    Pvbki\Enums\MaritalStatus::UNDEFINED(),
                    Pvbki\Enums\Status::UNDEFINED(),
                    new Pvbki\Sentence\Translation(null, null, null),
                    new Pvbki\Sentence\Translation(null, null, null),
                    Pvbki\Enums\Ownership::UNDEFINED(),
                    null,
                    Pvbki\Enums\EconomicActivity::UNDEFINED(),
                    Pvbki\Enums\EmployeeCount::UNDEFINED()
                ),
                new Pvbki\Collections\Identifiers([
                    new Pvbki\Elements\Identifier(
                        Pvbki\Enums\IdentificationType::TAX_ID(),
                        '1928100592',
                        null,
                        null,
                        new Pvbki\Sentence\Translation(null, null, null)
                    ),
                    new Pvbki\Elements\Identifier(
                        Pvbki\Enums\IdentificationType::COMPOSITE_KEY(),
                        'ВикторФранцуз15101952',
                        null,
                        null,
                        new Pvbki\Sentence\Translation(null, null, null)
                    ),
                    new Pvbki\Elements\Identifier(
                        Pvbki\Enums\IdentificationType::PASSPORT(),
                        'ВЕ-760876',
                        Carbon::make('2002-04-10T00:00:00+03:00'),
                        null,
                        new Pvbki\Sentence\Translation('Кировским РО ДГУ УМВД Украины в Дон.обл.', null, null)
                    ),
                    new Pvbki\Elements\Identifier(
                        Pvbki\Enums\IdentificationType::PASSPORT(),
                        'ВЕ-760876',
                        Carbon::make('2002-04-10T00:00:00+03:00'),
                        null,
                        new Pvbki\Sentence\Translation('Кіровським РВ ДМУ УМВС України в Донецькій обл.', null, null)
                    )
                ]),
                new Pvbki\Collections\Communications([
                    new Pvbki\Elements\Communication('+380990080416', Pvbki\Enums\CommunicationType::MOBILE())
                ]),
                new Pvbki\Collections\Addresses([
                    new Pvbki\Elements\Address(
                        -1,
                        Pvbki\Enums\AddressType::REGISTRATION(),
                        new Pvbki\Sentence\Translation(
                            '83037, , Донецка обл., м.Донецьк, Кірова, 103, кв. 1',
                            null,
                            null
                        ),
                        '83037'
                    ),
                    new Pvbki\Elements\Address(
                        -1,
                        Pvbki\Enums\AddressType::REGISTRATION(),
                        new Pvbki\Sentence\Translation(
                            'г.Донецк ул.Кирова, д.103 кв.1',
                            null,
                            null
                        ),
                        '83037'
                    ),
                    new Pvbki\Elements\Address(
                        -1,
                        Pvbki\Enums\AddressType::REGISTRATION(),
                        new Pvbki\Sentence\Translation(
                            'Донецкая обл.,Кировский,83037,г.Донецк,Кирова,103,1, 1',
                            null,
                            null
                        ),
                        '83037'
                    ),
                    new Pvbki\Elements\Address(
                        -1,
                        Pvbki\Enums\AddressType::FACTUAL(),
                        new Pvbki\Sentence\Translation(
                            '83037, , Донецка обл., м.Донецьк, Кірова, 103, кв. 1',
                            null,
                            null
                        ),
                        '83037'
                    ),
                    new Pvbki\Elements\Address(
                        -1,
                        Pvbki\Enums\AddressType::FACTUAL(),
                        new Pvbki\Sentence\Translation(
                            'Донецька область Донецьк, місто Донецьк Кирова 103 1 103 1',
                            null,
                            null
                        ),
                        '83037'
                    ),
                ]),
                new Pvbki\Collections\Dependants([
                    new Pvbki\Elements\Dependant(5, 1)
                ]),
                new Pvbki\Collections\MonthlyIncomes([
                    new Pvbki\Elements\MonthlyIncome(2400.0000, 'UAH')
                ]),
                new Pvbki\Collections\Summaries([
                    new Pvbki\Elements\Summary(Pvbki\Enums\Category::ROLE_ID(), 1, null, 1, null),
                    new Pvbki\Elements\Summary(Pvbki\Enums\Category::PHASE_ID(), 5, null, 1, null),
                    new Pvbki\Elements\Summary(Pvbki\Enums\Category::CURRENCY(), null, 'UAH', 1, null),
                    new Pvbki\Elements\Summary(Pvbki\Enums\Category::TYPE(), null, 'instalment', 1, null),
                    new Pvbki\Elements\Summary(Pvbki\Enums\Category::TOTAL_AMOUNT(), null, 'UAH', 1, 6500.0000),
                    new Pvbki\Elements\Summary(Pvbki\Enums\Category::REST_AMOUNT(), null, 'UAH', null, 0.0000),
                    new Pvbki\Elements\Summary(Pvbki\Enums\Category::OVERDUE_AMOUNT(), null, 'UAH', null, 0.0000),
                    new Pvbki\Elements\Summary(Pvbki\Enums\Category::EVENT(), null, 'request', 254, null),
                ]),
                new Pvbki\Collections\Contracts([
                    new Pvbki\Elements\Contract(
                        Pvbki\Enums\Role::BORROWER(),
                        '1',
                        '1',
                        Carbon::make('2010-05-05T17:35:21.557+03:00'),
                        Pvbki\Enums\Phase::TERMINATED(),
                        'UAH',
                        Carbon::make('2008-02-08T00:00:00+02:00'),
                        Pvbki\Enums\CreditPurpose::UNDEFINED(),
                        Pvbki\Enums\ContractNegativeStatus::NONE(),
                        Carbon::make('2008-02-08T00:00:00+02:00'),
                        Carbon::make('2008-02-08T00:00:00+02:00'),
                        Carbon::make('2009-08-08T00:00:00+03:00'),
                        Carbon::make('2010-01-28T00:00:00+02:00'),
                        Pvbki\Enums\ContractType::INSTALMENT(),
                        Pvbki\Enums\PaymentMethod::UNDEFINED(),
                        Pvbki\Enums\PaymentPeriod::EVERY_30_DAYS(),
                        'UAH',
                        6500.0000,
                        null,
                        18,
                        'UAH',
                        361.1100,
                        0,
                        0.0000,
                        0,
                        0.0000,
                        new Pvbki\Collections\Records([
                            new Pvbki\Elements\Record(
                                Carbon::make('2008-03-01T00:00:00+02:00'),
                                6499.9800,
                                '1',
                                Pvbki\Enums\CreditUsage::UNDEFINED(),
                                'UAH',
                                18,
                                null,
                                null,
                                null
                            ),
                            new Pvbki\Elements\Record(
                                Carbon::make('2008-04-01T00:00:00+03:00'),
                                6138.8700,
                                '1',
                                Pvbki\Enums\CreditUsage::UNDEFINED(),
                                'UAH',
                                17,
                                null,
                                null,
                                null
                            ),
                            new Pvbki\Elements\Record(
                                Carbon::make('2008-05-01T00:00:00+03:00'),
                                5777.7600,
                                '1',
                                Pvbki\Enums\CreditUsage::UNDEFINED(),
                                'UAH',
                                16,
                                null,
                                null,
                                null
                            ),
                            new Pvbki\Elements\Record(
                                Carbon::make('2008-06-01T00:00:00+03:00'),
                                5416.6500,
                                '1',
                                Pvbki\Enums\CreditUsage::UNDEFINED(),
                                'UAH',
                                15,
                                null,
                                null,
                                null
                            ),
                            new Pvbki\Elements\Record(
                                Carbon::make('2008-07-01T00:00:00+03:00'),
                                5055.5400,
                                '1',
                                Pvbki\Enums\CreditUsage::UNDEFINED(),
                                'UAH',
                                14,
                                null,
                                null,
                                null
                            ),
                            new Pvbki\Elements\Record(
                                Carbon::make('2008-08-01T00:00:00+03:00'),
                                4694.4300,
                                '1',
                                Pvbki\Enums\CreditUsage::UNDEFINED(),
                                'UAH',
                                13,
                                null,
                                null,
                                null
                            ),
                            new Pvbki\Elements\Record(
                                Carbon::make('2008-09-01T00:00:00+03:00'),
                                4333.3200,
                                '1',
                                Pvbki\Enums\CreditUsage::UNDEFINED(),
                                'UAH',
                                12,
                                242.6600,
                                "UAH",
                                1
                            ),
                            new Pvbki\Elements\Record(
                                Carbon::make('2008-10-01T00:00:00+03:00'),
                                3972.2100,
                                '1',
                                Pvbki\Enums\CreditUsage::UNDEFINED(),
                                'UAH',
                                11,
                                603.7700,
                                "UAH",
                                2
                            ),
                            new Pvbki\Elements\Record(
                                Carbon::make('2008-11-01T00:00:00+02:00'),
                                3611.1000,
                                '1',
                                Pvbki\Enums\CreditUsage::UNDEFINED(),
                                'UAH',
                                10,
                                964.8800,
                                "UAH",
                                3
                            ),
                            new Pvbki\Elements\Record(
                                Carbon::make('2008-12-01T00:00:00+02:00'),
                                3249.9900,
                                '1',
                                Pvbki\Enums\CreditUsage::UNDEFINED(),
                                'UAH',
                                9,
                                1325.9900,
                                "UAH",
                                4
                            ),
                            new Pvbki\Elements\Record(
                                Carbon::make('2009-01-01T00:00:00+02:00'),
                                2888.8800,
                                '1',
                                Pvbki\Enums\CreditUsage::UNDEFINED(),
                                'UAH',
                                8,
                                1687.1000,
                                "UAH",
                                5
                            ),
                            new Pvbki\Elements\Record(
                                Carbon::make('2009-02-01T00:00:00+02:00'),
                                2527.7700,
                                '1',
                                Pvbki\Enums\CreditUsage::UNDEFINED(),
                                'UAH',
                                7,
                                2048.2100,
                                "UAH",
                                6
                            ),
                            new Pvbki\Elements\Record(
                                Carbon::make('2009-06-10T00:00:00+03:00'),
                                4075.9800,
                                '1',
                                Pvbki\Enums\CreditUsage::UNDEFINED(),
                                'UAH',
                                2,
                                3353.7600,
                                "UAH",
                                10
                            ),
                            new Pvbki\Elements\Record(
                                Carbon::make('2009-08-11T00:00:00+03:00'),
                                4076.0000,
                                '1',
                                Pvbki\Enums\CreditUsage::UNDEFINED(),
                                'UAH',
                                0,
                                4076.0000,
                                "UAH",
                                12
                            ),
                            new Pvbki\Elements\Record(
                                Carbon::make('2010-03-31T00:00:00+03:00'),
                                0.0000,
                                '1',
                                Pvbki\Enums\CreditUsage::UNDEFINED(),
                                'UAH',
                                0,
                                null,
                                null,
                                null
                            ),
                            new Pvbki\Elements\Record(
                                Carbon::make('2010-04-28T00:00:00+03:00'),
                                0.0000,
                                '1',
                                Pvbki\Enums\CreditUsage::UNDEFINED(),
                                'UAH',
                                0,
                                null,
                                null,
                                null
                            ),
                            new Pvbki\Elements\Record(
                                Carbon::make('2010-05-05T00:00:00+03:00'),
                                0.0000,
                                '1',
                                Pvbki\Enums\CreditUsage::UNDEFINED(),
                                'UAH',
                                0,
                                0.0000,
                                'UAH',
                                0
                            ),
                        ]),
                        new Pvbki\Collections\Collaterals([
                            new Pvbki\Elements\Collateral(
                                '1',
                                Pvbki\Enums\CollateralType::OTHER_MOVABLE_STATE(),
                                38675.0000,
                                'UAH',
                                Pvbki\Enums\AddressType::UNDEFINED(),
                                null,
                                new Pvbki\Sentence\Translation(null, null, null),
                                null,
                                Pvbki\Enums\IdentificationType::TAX_ID(),
                                '1928100592',
                                null,
                                null,
                                null,
                                new Pvbki\Sentence\Translation(null, null, null)
                            ),
                            new Pvbki\Elements\Collateral(
                                '1',
                                Pvbki\Enums\CollateralType::WITHOUT_COLLATERAL(),
                                50575.0000,
                                'UAH',
                                Pvbki\Enums\AddressType::UNDEFINED(),
                                null,
                                new Pvbki\Sentence\Translation(null, null, null),
                                null,
                                Pvbki\Enums\IdentificationType::TAX_ID(),
                                '1928100592',
                                null,
                                null,
                                null,
                                new Pvbki\Sentence\Translation(null, null, null)
                            )
                        ])
                    )
                ]),
                new Pvbki\Collections\Events([
                    new Pvbki\Elements\Event('request', Carbon::make('2016-06-23T17:57:12.547+03:00'), 13),
                    new Pvbki\Elements\Event('request', Carbon::make('2016-06-23T11:45:53.103+03:00'), 13),
                    new Pvbki\Elements\Event('request', Carbon::make('2016-06-23T10:33:44.98+03:00'), 13),
                    new Pvbki\Elements\Event('request', Carbon::make('2016-06-23T10:27:09.967+03:00'), 13),
                    new Pvbki\Elements\Event('request', Carbon::make('2016-06-23T10:24:17.61+03:00'), 13),
                    new Pvbki\Elements\Event('request', Carbon::make('2016-06-23T10:22:39.46+03:00'), 13),
                    new Pvbki\Elements\Event('request', Carbon::make('2016-06-23T10:12:51.13+03:00'), 13),
                    new Pvbki\Elements\Event('request', Carbon::make('2016-05-02T08:58:44.043+03:00'), 12),
                    new Pvbki\Elements\Event('request', Carbon::make('2016-03-21T13:40:48.96+02:00'), 6),
                    new Pvbki\Elements\Event('request', Carbon::make('2015-10-12T15:26:00.13+03:00'), 11),
                    new Pvbki\Elements\Event('request', Carbon::make('2015-08-27T11:05:04.283+03:00'), 6),
                    new Pvbki\Elements\Event('request', Carbon::make('2015-04-09T15:21:49.71+03:00'), 6),
                    new Pvbki\Elements\Event('request', Carbon::make('2015-04-09T11:30:54.803+03:00'), 6),
                    new Pvbki\Elements\Event('request', Carbon::make('2014-01-15T14:25:44.22+02:00'), 7),
                    new Pvbki\Elements\Event('request', Carbon::make('2014-01-15T14:23:35.38+02:00'), 7),
                    new Pvbki\Elements\Event('request', Carbon::make('2014-01-15T14:22:19.26+02:00'), 7),
                    new Pvbki\Elements\Event('request', Carbon::make('2014-01-15T14:14:48.497+02:00'), 7),
                    new Pvbki\Elements\Event('request', Carbon::make('2014-01-15T14:09:24.37+02:00'), 7),
                    new Pvbki\Elements\Event('request', Carbon::make('2012-07-26T17:34:35.817+03:00'), 7),
                    new Pvbki\Elements\Event('request', Carbon::make('2012-07-26T16:53:55.9+03:00'), 7),
                    new Pvbki\Elements\Event('request', Carbon::make('2012-07-26T16:52:02.19+03:00'), 7),
                    new Pvbki\Elements\Event('request', Carbon::make('2012-07-26T16:51:47.07+03:00'), 7),
                    new Pvbki\Elements\Event('request', Carbon::make('2012-07-26T16:46:42.517+03:00'), 7),
                    new Pvbki\Elements\Event('request', Carbon::make('2012-07-26T16:46:30.16+03:00'), 7),
                    new Pvbki\Elements\Event('request', Carbon::make('2012-07-26T16:43:37.967+03:00'), 7),
                    new Pvbki\Elements\Event('request', Carbon::make('2012-07-26T16:15:46.43+03:00'), 7),
                    new Pvbki\Elements\Event('request', Carbon::make('2012-07-26T16:12:32.11+03:00'), 7),
                    new Pvbki\Elements\Event('request', Carbon::make('2012-03-05T13:40:55.223+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-08-10T12:09:59.483+03:00'), 10),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-04-19T11:34:01.097+03:00'), 4),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-04-19T11:32:18.207+03:00'), 4),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-04-19T11:32:13.927+03:00'), 4),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-03-02T14:26:54.957+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-03-02T14:26:05.893+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-03-02T14:19:33.267+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-03-02T14:18:40.347+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-03-02T14:15:35.033+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-03-02T14:12:18.877+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-03-02T14:08:25.47+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-03-02T14:06:10.707+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-03-02T14:05:49.41+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-03-02T14:05:39.813+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-03-02T14:05:26.69+02:00'), 9),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-03-02T14:05:26.44+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-03-02T14:05:11.033+02:00'), 9),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-03-02T14:05:06.66+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-03-02T14:04:58.94+02:00'), 9),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-03-02T14:04:55.173+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-03-02T14:04:38.063+02:00'), 9),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-03-02T14:04:23.3+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-23T12:59:50.757+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-23T12:51:52.693+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-23T12:47:37.85+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-23T12:42:54.6+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-23T12:37:45.99+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-23T12:31:58.663+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-23T12:28:52.32+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-23T12:26:43.13+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-23T12:23:38.99+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-23T12:03:16.367+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-23T12:02:21.583+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:48.24+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:47.617+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:42.227+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:41.6+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:40.977+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:40.367+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:39.757+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:39.13+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:38.507+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:37.897+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:37.273+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:36.647+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:33.99+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:33.367+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:32.74+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:32.1+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:31.477+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:30.85+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:30.24+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:29.617+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:28.99+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:28.38+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:27.757+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:27.147+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:26.507+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:25.88+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:25.257+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:24.647+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:24.023+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:23.413+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:22.787+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:22.18+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:21.553+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:20.943+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:20.32+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:19.57+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:18.93+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:18.303+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:17.663+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:17.037+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:16.32+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:42:15.68+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-20T08:41:57.947+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T15:52:08.373+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T15:40:26.593+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T15:35:08.03+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T15:14:10.2+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T15:12:11.967+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T15:03:55.53+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T14:49:10.437+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T14:19:00.123+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T14:16:49.67+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T14:15:22.013+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T14:15:03.78+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T14:13:08.843+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T14:10:40.857+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T14:04:19.25+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T13:54:34.547+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T13:37:57.403+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T13:36:00.903+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T13:27:50.107+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T13:23:40.03+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T13:23:05.78+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T13:22:15.453+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T13:11:18.5+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T13:08:43.36+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T13:06:35.843+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T13:05:20.607+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T13:04:07.28+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:59:41.653+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:58:41.593+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:44:07.653+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:38:41.123+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:35:07.403+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:34:33.967+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:33:41.157+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:30:47.903+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:29:53.373+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:28:42.437+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:28:08.483+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:23:16.107+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:22:51.327+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:21:34.983+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:21:07.45+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:19:51.013+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:19:18.45+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:18:36.937+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:16:57.153+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:16:00.983+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:13:14.937+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:13:02.217+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:12:49.983+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:05:06.217+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T12:04:18.42+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T11:59:18.903+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T11:59:05.67+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T11:57:34.233+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T11:54:17.513+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T11:52:50.467+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T11:47:34.357+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T11:44:24.64+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T11:42:37.7+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T11:40:26.217+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T11:40:12.327+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T11:39:50.327+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T11:38:12.513+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T11:36:44.14+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T11:32:10.297+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T11:31:47.577+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T11:29:24.513+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T11:12:03.343+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T11:07:58.78+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T11:03:50.06+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T10:51:11.42+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T10:37:31.857+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T10:28:29.797+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T10:08:46.81+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T10:06:01.17+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T10:05:47.42+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-16T10:05:32.593+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-14T18:25:31.593+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-14T18:16:57.967+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-14T18:03:51.14+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-14T17:55:08.373+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-14T17:52:04.03+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-14T17:51:51.107+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-14T17:51:37.53+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-14T17:46:59.983+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-14T17:27:47.903+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-14T17:24:37.263+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-14T17:23:03.407+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-14T17:21:39.25+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-02-14T17:12:58.67+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-01-14T15:00:53.28+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-01-11T15:14:04.373+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-01-11T15:14:03.78+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-01-11T15:14:02.513+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-01-11T15:14:01.92+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-01-11T15:14:01.31+02:00'), 2),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-01-06T13:53:47.937+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2011-01-06T13:53:31.017+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-29T13:42:17.673+02:00'), 5),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-23T14:53:02.253+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-23T14:53:01.597+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-23T14:53:00.957+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-23T14:53:00.347+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-23T14:52:59.72+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-23T14:52:58.877+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-23T14:52:58.253+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-23T14:52:57.613+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-23T14:52:56.97+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-23T14:52:53.173+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:32.15+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:31.523+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:30.9+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:30.273+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:29.633+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:27.26+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:26.633+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:26.01+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:25.367+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:24.603+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:23.96+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:23.337+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:22.697+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:22.07+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:21.46+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:20.853+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:19.71+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:19.103+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:18.493+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:17.867+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:17.227+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:16.617+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:16.01+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:15.383+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:14.79+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:14.18+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:13.57+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:12.96+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:12.337+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:11.727+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:10.993+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:10.367+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:09.743+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:09.117+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:08.493+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:07.853+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:07.227+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:06.603+02:00'), 8),
                    new Pvbki\Elements\Event('request', Carbon::make('2010-12-17T11:45:05.913+02:00'), 8),
                    new Pvbki\Elements\Event('instalment', Carbon::make('2010-05-05T17:30:57.853+03:00'), 1),
                    new Pvbki\Elements\Event('request', Carbon::make('2009-11-13T10:30:10.653+02:00'), 3),
                    new Pvbki\Elements\Event('request', Carbon::make('2009-08-27T11:47:26.45+03:00'), 3),
                ]),
                new Pvbki\Elements\Scoring('C-', -1478, 87.0745, 'REQUEST|SOCIAL|OVERDUE')
            ),
            $report
        );
    }

    /**
     * @expectedException \Wearesho\Pvbki\Exceptions\InvalidReportXmlStructure
     * @expectedExceptionMessage Xml document have invalid structure
     */
    public function testInvalidXml(): void
    {
        $this->fakeParser->parse('Invalid xml');
    }
}
